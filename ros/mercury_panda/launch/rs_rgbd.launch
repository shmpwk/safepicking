<launch>

  <arg name="GUI" default="true" />

  <include file="$(find realsense2_camera)/launch/rs_rgbd.launch">
  </include>

  <group ns="/camera/aligned_depth_to_color">
    <node name="depth_to_rgb"
          pkg="mercury_panda" type="depth_to_rgb.py"
          clear_params="true">
      <remap from="~input/camera_info" to="camera_info" />
      <remap from="~input/depth" to="image_raw" />
    </node>
  </group>

  <node name="marker_6dof"
        pkg="jsk_interactive_marker" type="marker_6dof"
        clear_params="true">
    <rosparam subst_value="true">
      frame_id: panda_link8  # parent
      tf_frame: camera_link  # child
      object_type: cube
      publish_tf: true
      tf_duration: 0.01  # 100Hz
      object_x: 0.1
      object_y: 0.1
      object_z: 0.1
      initial_x: 0.067
      initial_y: 0.020
      initial_z: 0.026
      initial_orientation: [0.659, 0.277, 0.653, -0.250]
    </rosparam>
  </node>

  <node name="rviz"
        pkg="rviz" type="rviz"
        args="-d $(find mercury_panda)/rviz/rs_rgbd.rviz"
        clear_params="true">
  </node>

</launch>
